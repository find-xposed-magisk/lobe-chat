---
title: 配置 LobeHub 邮箱密码登录
description: 了解如何配置 LobeHub 的邮箱密码登录，包括启用/禁用选项和仅 SSO 模式。
tags:
  - 邮箱
  - 密码
  - 身份验证
  - LobeHub
---

# 配置邮箱密码登录

LobeHub 默认支持传统的邮箱密码登录方式。本指南介绍可用的配置选项。

## 默认行为

默认情况下，邮箱密码登录已启用。用户可以使用邮箱地址注册并设置密码。

## 配置选项

### 禁用邮箱密码登录（仅 SSO 模式）

如果你希望强制用户只能通过 SSO 提供商登录，请设置以下环境变量：

| 环境变量                          | 类型 | 描述               |
| ----------------------------- | -- | ---------------- |
| `AUTH_DISABLE_EMAIL_PASSWORD` | 可选 | 设置为 `1` 禁用邮箱密码登录 |

启用后：

- 登录页面隐藏邮箱输入框
- 仅显示 SSO 提供商登录按钮
- 注册页面重定向到登录页面
- 用户必须通过配置的 SSO 提供商进行身份验证

<Callout type={'warning'}>
  启用仅 SSO 模式前，请确保已通过 `AUTH_SSO_PROVIDERS` 配置了至少一个 SSO
  提供商。否则用户将无法登录。
</Callout>

### 启用邮箱验证

要求用户在登录前验证邮箱地址：

| 环境变量                      | 类型 | 描述             |
| ------------------------- | -- | -------------- |
| `AUTH_EMAIL_VERIFICATION` | 可选 | 设置为 `1` 启用邮箱验证 |

这需要配置邮件服务（SMTP）。详情请参阅[邮件服务配置](/zh/docs/self-hosting/auth/email)。

### 启用魔法链接登录

允许通过邮件魔法链接实现无密码登录：

| 环境变量                     | 类型 | 描述               |
| ------------------------ | -- | ---------------- |
| `AUTH_ENABLE_MAGIC_LINK` | 可选 | 设置为 `1` 启用魔法链接登录 |

这也需要配置邮件服务（SMTP）。

## 修改密码

用户可以通过以下两种方式修改密码：

1. **个人设置**：前往 设置 > 个人资料 修改密码
2. **忘记密码**：在登录页面输入邮箱后，进入密码输入步骤，点击密码框下方的「忘记密码」

<Callout type={'info'}>
  以上两种方式都需要配置邮件服务（SMTP）以发送密码重置邮件。
</Callout>

## 配置示例

### 仅 SSO（禁用邮箱密码）

```bash
AUTH_DISABLE_EMAIL_PASSWORD=1
AUTH_SSO_PROVIDERS=google,github
```

### 邮箱密码 + 邮箱验证

```bash
AUTH_EMAIL_VERIFICATION=1
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@example.com
SMTP_PASS=your-password
```

### 邮箱密码 + 魔法链接

```bash
AUTH_ENABLE_MAGIC_LINK=1
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@example.com
SMTP_PASS=your-password
```

<Callout type={'tip'}>
  前往[环境变量](/zh/docs/self-hosting/environment-variables/auth)查看所有身份验证相关变量的详细信息。
</Callout>
